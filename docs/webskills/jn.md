# C모듈
## 공통사항
---
- ##### 미리 제공된 <2022_jeonnam.sql> 파일로 데이터베이스를 구축해야 한다.


<br>
<br>

## 헤더 영역
---
- ##### 버스킹 메뉴에 마우스를 올릴 시 버스킹 커뮤니티 페이지와 버스킹 후기 페이지로 이동할 수 있는 링크 되어있는 서브메뉴
- ##### 정원 관리자로 로그인시 내미게이션의  [마이페이지]가 [관리자페이지]로 변경되어 보여져야 한다.

<br>
<br>

## 로그인/회원가입
     회원가입에 캡차, 중복확인버튼 정규식 들어가는거 두개
---
### 회원가입

- ##### 로그인 한 회원이 회원가입 버튼을 누를시 "로그인한 회원은 접근할 수 없습니다."라는 메세지가 보인다

- ##### 회원가입 팝업
  - ##### 이름 (한글 2글자 이상 5글자 이하)
  - ##### 아이디 (영문 및 숫자 조합 8글자 이상이어야 한다.)
  - ##### 중복확인 버튼 (페이지 이동없이 “이미 사용중인 아이디입니다.”라는 메시지가 보인다.)
  - ##### 비밀번호
  - ##### 전화번호
  - ##### 캡차 (이미지가 존재하여야 하며 영문과 숫자 조합으로 5글자가 나오고 입력된 값이 같아야 회원가입 가능)
  - ##### 프로필 사진
  - ##### 공연 분야 입력 (DB에있는 값 중 하나를 선택하여 변경할 수 있다.)

- ##### 모든 입력값은 필수값이며 [가입하기] 버튼을 누를시 모든 입력값을 검증하고 올바르지 않으면 적절한 오류메세지가 보인다.

- ##### 회원가입이 완료되면 “회원가입이 완료되었습니다.”라는 메시지가 보이고 메인페이지로 이동한다.

<br>

### 로그인
- ##### 로그인 팝업
  - ##### 아이디, 비밀번호를 입력할 수 있는 입력창과 로그인 버튼이 존재한다.
  - ##### 아이디와 비밀번호를 입력 후, 로그인 버튼을 클릭하여 로그인한다. 
  - ##### 입력한 아이디 혹은 비밀번호가 다른 경우 “아이디 혹은 비밀번호를 다시 확인해주세요.”라는 메시지가 보인다.
  - ##### 로그인이 되면 헤더 내비게이션의 로그인 버튼은 [로그아웃] 버튼으로 변경되어야 한다. 
  - ##### [로그아웃] 버튼을 클릭 시 로그아웃 되며, 다시 [로그인] 버튼 또는 링크가 나타난다

 <br>
 <br>

## 관람/체험 페이지
     검색기능, 정원 리스트 보여주기, 상세 페이지
---
### 정원 일정 영역

- ##### 정원 이름으로 [검색] 버튼 혹은 엔터키를 이용해 정원을 검색할 수 있어야 한다. 
- ##### 검색 시, 검색어에 포함된 정원은 정원 리스트 영역에 보여진다. 
<br>

### 정원 리스트 영역
- ##### 정원들은 이름순으로 내림차순 정렬되어 보여준다.
- ##### 리스트의 정원마다 [정원이름], [전화번호], [정원 위치], [대표 사진]이 보여야 한다.
- ##### 리스트의 정원을 클릭하면 해당 정원의 정원 상세 페이지로 이동한다.( 로그인한 회원만 접근가능 "로그인 후 접근 가능한 메뉴입니다." 보여주고 메인페이지로 이동되어야 한다.)

<br>
<br>

## 정원 상세 페이지
     달력에 버스킹 일자 나오고 클릭하면 상세일정이 나온다
---
- ##### 해당 정원의 이번 달 버스킹 일정을 볼 수 있는 달력이 존재해야 한다.
- ##### 버스킹 일정이 있는 경우에는 해당 날짜에 [일정 보기] 버튼이 존재해야 하며 버튼을 클릭 할 시 모달창으로 해당 날짜의 버스킹 일정을 시간별로 보여주어야 한다.
- ##### 버스킹 일정은 버스킹 이름과 버스커 아이디, 버스킹 분야로 구성되어야 한다.



 <br>
 <br>

## 버스킹 커뮤니티 페이지
     버스커 모집 팝업, 모집 리스트(탭있고 상세있는데 상세에 기능 많음)
---
- ##### 버스킹 커뮤니티 페이지에서는 버스커 모집이 가능하며 버스커 모집 리스트와 [버스커 모집] 버튼이 존재한다 (로그인한 유저만 접근 가능하다)
- ##### 버스킹 커뮤니티 페이지로 이동 시 로그인 한 유저의 분야와 동일한 탭이 선택되어 있어야 한다
### 버스커 모집 팝업 
- ##### (일반 유저가 게시물을 작성하여 버스킹을 함께할 유저를 모집할 수 있다.)
  - ##### 제목
  - ##### 내용
  - ##### 모집인원 (모집인원은 최소 1명 이상이어야 한다)
  - ##### 분야 (분야는 데이터베이스에 있는 값 중 하나를 선택하여 변경할 수 있어야함)
  - ##### [모집하기] 버튼 (필수 값이 입력되지 않은 채 버튼을 누를 시 알맞은 경고 메시지를 보여주고 게시물이 등록되지 않아야 한다. )
 <br>

### 버스커 모집 리스트탭
  - #####  제목, 작성자 이름, 작성 날짜가 보이며 탭이 존재한다.
  - ##### 탭은 모든 공연 분야를 볼 수 있는 [전체] 탭과 
    - ##### 데이터베이스에 있는 분야들로 구성되며 전체 탭을 누르면 모든 공연 분야의 게시물이 보이며 
    - ##### 각 분야 탭을 클릭할 시 해당 분야에 해당하는 게시물만 보여지도록 제작되어야 한다. 
 - ##### 버스커 모집 리스트는 10개씩 페이징되어 보여져야 한다.
 - ##### 버스커 모집 리스트를 클릭시 버스커 모집 상세페이지 
   - ##### 모집 정보 영역 (제목, 내용, 모집인원, 분야, 작성자가 보여진다)
     - ##### 모집인원은 본인을 포함하여 “현재 모집한 인원 / 모집인원”와 같이 보여준다.
     - #####  (모집인원이 2명이고 현재 모집한 인원이 없는 경우 “1/3”)와 같이 보여준다
   - ##### 버스커 명단 영역
     - ##### 작성자와 수락된 신청자의 프로필 사진, 이름
   - ##### 신청 리스트 
     ###### [버스킹 함께하기] 버튼
     - ##### 신청 리스트 영역에는 [버스킹 함께하기] 버튼과 신청자 리스트가 보여야 한다. 
     - ##### 버튼은 작성자를 제외한 다른 유저만 볼 수 있어야 하고 버튼을 누를 시 해당 모집 
     - ##### 글에 신청되고 “신청이 완료되었습니다.”라는 메시지를 보여주며 [버스킹 함께하기] 버튼이 보이지 않아야하며 모집인원이 마감되었을 경우 버튼이 보이지 않아야 한다
    ###### 신청자 리스트
      - ##### 신청자의 이름과 분야, 프로필 사진, [수락], [거절] 버튼이 보인다(작성자에게만 보임)
      - ##### [수락] 버튼을 누를 경우 버스커 명단 영역에 정상적으로 추가된다. 
        - ##### [수락] 버튼을 눌러 모집 인원이 전부 채워지면 상태가 “대기”인 신청 리스트는 모두 상태가 “거절”로 변경되어야 한다.
      - ##### [거절] 버튼을 누를 경우 신청자 리스트에서 제거된다. 
      - ##### 신청자 리스트와 (모집 명단? 뭐지 없는뎅) 영역에 존재하는 유저의 프로필 사진을 클릭 시 유저의 이름, 프로필 사진, 소개, 아이디, 분야를 모달 창으로 나온다

 <br>
 <br>

## 마이페이지
    버스커 모집내역, 버스킹 신청 모달, 
---
### 프로필 영역
    여기도 조건 맞는지 체크를 해야하나?
 - ##### 프로필 사진, 이름, 소개 내용(회원가입 할때 넣는게 없는데 뭐야), 분야를 수정할 수 있는 입력 영역이 존재 [저장]버튼이 존재한다
 - ##### 모든 입력 값은 로그인 한 회원의 정보가 기입되어 있어야 하며 수정 가능해야 한다.
 - ##### 분야는 데이터베이스에 있는 값 중 하나를 선택하여 변경할 수 있도록 한다
<br>

### 버스킹 모집 내역 
##### (로그인한 유저가 등록한 모든 버스커 모집 게시물)
 - ##### 모집 게시물의 제목, 작성 날짜, 분야, 모집인원, 상태가 보여야 하며 
 - ##### 각 내역의 제목을 클릭할 시 해당 모집 게시물로 이동한다.
 - ##### 상태는 [버스킹 신청] 버튼 "대기", "거절", "수락"이 있으며 [버스킹 신청] 버튼이 비활성화로 존재하고 해당 모집 인원이 전부 채워지면 활성화되어야 한다
 - ##### 버스킹 신청이 완료되었을 시 상태는 "대기"
 - ##### 관리자가 수적하면 "수락", 거절하면 "거절"로 변경되어 보여야한다.
 - ##### 버스킹 신청 모달 (버튼을 누를 시 모달 창으로)
   - ##### 버스킹 이름
   - ##### 정원 리스트 (select 폼으로 신청할 정원을 선택하면, 해당 정원의 관리자가 등록한 버스킹 일정들이 보여야한다)  
     - ##### 정원 리스트에서 신청할 정원을 변경하면 버스킹 일정 select 폼이 실시간으로 선택한 정원의 버스킹 일정으로 변경되어야 한다.
   - ##### 버스킹 일정 (select 폼으로) 
     - ##### 해당 정원에 등록된 버스킹 날짜가 보여야 하고 
     - ##### 버스킹 날짜를 선택할 시 해당 날짜의 버스킹 가능 시간이 보여진다
     - ##### 시작 시간 : 13:00 / 종료 시간 : 15:00 일 시, [13:00 ~ 14:00], [14:00 ~ 15:00]
     - ##### 이미 관리자가 수락한 시간대는 보이지 않도록 제작하여야 한다.
   - ##### [신청] 버튼 (정원 리스트에서 선택한 정원의 정원 관리자에게 신청)
<br>
<br>

## 정원관리자페이지
    버스킹 가능 시간대 추가, 버스킹 신청 확정
---
### 버스킹 일정 등록 영역
- ##### 버스킹 일정 등록 영역(정원 관리자가 자신의 정원에 버스킹 일정을 등록할 수 있는 영역이며 버스킹 일정은 한 날짜에 하나씩만 등록할 수 있다) 
  - ##### **모두 필수값이다.
  - ##### 버스킹 날짜
  - ##### 버스킹 시간
    - #####  버스킹 시작 시간과 종료 시간을 설정할 수 있으며 모든 정원의 버스킹 시간은 10:00 ~ 22:00까지만 가능
    - ##### 종료 시간은 시작 시간보다 빠르거나 같은 시간으로 선택할 수 없도록 한다.
  - ##### 모집 버튼
<br>


### 버스킹 신청 내역
- ##### 유저들이 신청한 버스킹 내역
  - ##### 신청한 유저의 이름
  - ##### 버스킹 분야
  - ##### 버스킹 날짜
  - ##### 버스킹 시간
  - ##### 상태 ([수락], [거절])
    - ##### [수락]버튼을 눌러 버스킹 신청이 수락되고 같은 시간대 버스킹들은 [거절]처리 되어야한다
<br>
<br>

## 정원 버스킹 후기 페이지
---
### 버스킹 후기 페이지
- ##### 신청이 수락되고 일정이 마무리되어 날짜가 지난 버스킹을 리스트로 보여준다(10개씩 페이징)
  - ##### 버스킹 이름
  - ##### 버스킹한 정원
  - ##### 버스킹 날짜
  - ##### 버스킹 별점 (별점들과의 평균을 구하고 소수점 한자리까지)
<br>

###  버스킹 후기 상세페이지(리스트를 클릭시 넘어온다)
- ##### 버스킹 정보영역
  - ##### 버스커 아이디, 버스킹 이름, 시간, 분야
- ##### 버스킹 리뷰영역
  - ##### [리뷰작성]버튼 클릭시 (모달 창)
    - ##### 평점, 리뷰 내용, 사진, [작성]버튼을 입력할 수 있는 폼이 나온다
    - ##### 사진은 선택사항이다
    - #####  버튼을 누를 시 필수 값이 존재하면 리뷰가 등록되어 버스킹 후기 상세페이지의 리뷰 영역에 추가되어야 한다.
    - ##### 별점은 5개의 별모양 아이콘에 0점부터 10점의 점수를 줄 수 있다.(하나에 2점 클릭하는거다 반 클릭하면 1점)
  - ##### 리뷰 목록 (좋아요가 많은 순으로 같으면 최신순으로, 10개씩 더보기 처리)
    - ##### 작성자 이름, 리뷰 내용, 작성 날짜, [좋아요]버튼, 사진 (리뷰 작성자는 사진 글에 [좋아요]버튼이 보이지 않는다)

<br>
<br>

## 테이블 정리
---

### buskings 
    버스킹 세부테이블
##### id, name, date, time, category_id, state, user_id,
##### garden_id (gardens fk)
##### recruitment_id (recruitment fk)
<br>
<br>

### busking_schedules 
    버스킹 스케쥴테이블
##### id,  date, start_time, end_time,
##### garden_id (gardens fk)
<br>
<br>

### categories
    카테고리 테이블
##### id, category
<br>
<br>

### gardens
    정원 세부 테이블
##### id, name, image, connect, location
##### user_id (users fk) 
<br>
<br>

### recruitments
    버스킹 모집현황 테이블
##### id, user_id, title, contents, personnel, category_id, create_dt
  <br>
<br>

### recruitment_applications
    관리자가 보는 버스킹 수락 거절 대기 테이블
##### id, state
##### user_id (users)
##### recruitment_id (recruitment)
<br>
<br>

### reviews
     리뷰 테이블
##### id, contents, time, score
##### busking_id (busking)
<br>
<br>


### review_images
    리뷰 이미지 테이블
##### id, image
##### review_id(review)
<br>
<br>

### review_likes
    리뷰 좋아요 테이블
##### id
##### user_id (users)
##### review_id (좋아요 달린 리뷰)
<br>
<br>

### users
     유저 테이블
##### id, pw, name, type, phone, image, introduce
##### category_id(category)
<br>
<br>